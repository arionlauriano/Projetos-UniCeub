Ari
arion_lauriano
Não perturbar

Ari — 14/05/2025 10:31
hmm
vlw
Chilli — 14/05/2025 10:31
Disponha
Ari — 14/05/2025 15:12
yo
tu ta ocupado?
Ari — 14/05/2025 15:24
me avisa qnd tu tiver livre p a gnt terminar as parada
Chilli — 14/05/2025 16:09
Eai
Você perdeu uma chamada de 
Chilli
 que durou poucos segundos. — 17/06/2025 16:19
Ari
 iniciou uma chamada que durou 28 minutos. — 17/06/2025 16:30
Chilli — 17/06/2025 16:46
É, acho que vai dar não
Chilli — Ontem às 16:04
Ari, seria isto que é pra fazer?:

import mysql.connector


class UF:
    def init(self, idt_uf=None, sgl_uf="", nme_uf="", dao=None):
        self.idt_uf = idt_uf
        self.sgl_uf = sgl_uf
        self.nme_uf = nme_uf
        self._dao = dao
        self._clientes_cache = None

    @property
    def clientes(self):

        if not self._dao:
            return []

        if self._clientes_cache is None:
            self._clientes_cache = self._dao.selecionar_clientes_por_uf(self.idt_uf)

        return self._clientes_cache

    def str(self):
        return f"{self.idt_uf} - {self.sgl_uf} - {self.nme_uf}"


class UFDAO:
    def init(self):
        self.con = mysql.connector.connect(
            host="host",
            user="user",
            password="password",
            database="database"
        )
        self.cur = self.con.cursor()

    def selecionar_tudo(self):
        sql = "SELECT idt_uf, sgl_uf, nme_uf FROM tb_uf ORDER BY sgl_uf"
        self.cur.execute(sql)
        rows = self.cur.fetchall()
        lista = []
        for r in rows:
            lista.append(UF(idt_uf=r[0], sgl_uf=r[1], nme_uf=r[2], dao=self))
        return lista

    def inserir(self, uf: UF):
        sql = "INSERT INTO tb_uf (sgl_uf, nme_uf) VALUES (%s, %s)"
        valores = (uf.sgl_uf, uf.nme_uf)
        self.cur.execute(sql, valores)
        self.con.commit()
        uf.idt_uf = self.cur.lastrowid

    def selecionar_por_idt(self, idt):
        sql = "SELECT idt_uf, sgl_uf, nme_uf FROM tb_uf WHERE idt_uf=%s"
        self.cur.execute(sql, [idt])
        row = self.cur.fetchone()

        if row:
            return UF(idt_uf=row[0], sgl_uf=row[1], nme_uf=row[2], dao=self)
        return None

    def atualizar(self, uf: UF):
        sql = "UPDATE tb_uf SET sgl_uf=%s, nme_uf=%s WHERE idt_uf=%s"
        valores = (uf.sgl_uf, uf.nme_uf, uf.idt_uf)
        self.cur.execute(sql, valores)
        self.con.commit()

    def deletar(self, idt):
        sql = "DELETE FROM tb_uf WHERE idt_uf=%s"
        self.cur.execute(sql, [idt])
        self.con.commit()

    def selecionar_clientes_por_uf(self, idt_uf):
        sql = "SELECT idt_cliente, nme_cliente FROM tb_cliente WHERE idt_uf=%s"
        self.cur.execute(sql, [idt_uf])
        rows = self.cur.fetchall()
        return rows
eita, o init saiu com erro, vou te mandar em arquivo
import mysql.connector


class UF:
    def __init__(self, idt_uf=None, sgl_uf="", nme_uf="", dao=None):
        self.idt_uf = idt_uf
Expandir
UF.py
3 KB
Chilli — Ontem às 16:15
from flask import Flask
from uf_routes import bp_uf

app = Flask(__name__)
app.register_blueprint(bp_uf)
Expandir
App.py
1 KB
<!DOCTYPE html>
<html>
<head>
    <title>Cadastrar UF</title>
</head>
<body>
Expandir
Create.html
1 KB
<!DOCTYPE html>
<html>
<head>
    <title>Editar UF</title>
</head>
<body>
Expandir
Edit.html
1 KB
<!DOCTYPE html>
<html>
<head>
    <title>Lista de UFs</title>
</head>
<body>
Expandir
Read.html
1 KB
from flask import Blueprint, render_template, request, redirect, url_for
from uf_dao import UF, UFDAO

bp_uf = Blueprint('uf', __name__, template_folder='templates')

dao = UFDAO()
Expandir
UF routes.py
2 KB
<h1>Formulário de atualização da UF</h1>
Update.html
1 KB
Ari — Ontem às 16:18
esse já estava feito, no meu git
Ari — Ontem às 16:19
sua parte começava a partir daqui
vc precisa fazer as funções do flask como está no meu git no arquivo "mont_crud.py", apenas adaptando para as funções e padrão de abreviação do arquivo "uf_dao.py"
pode usar os HTML na pasta "templates/mont", copiá-los, e trocar as infomações dos dados para serem compatíveis com a do "uf_crud.py" que vc irá criar
as informações, nos HTML, entre dupla chave, "{{ }}", são as informações que vão ser inseridas pelo seu código flask
sua parte é apenas o crud, ou seja, onde serão feitas as funções que chamam as funções dao de "uf_dao.py", e jogam as informações recebidas nos códigos html
Ari — Ontem às 16:26
se vc não entendeu a matéria, eu recomendo muito que faça isso, pois a tabela, montadora, assim como, uf, também não possui chave extrangeira, portanto a estrutura será a mesma
uma recomendação minha, é de clonar o meu repositório e trabalhar no diretório do projeto para q vc possa ir testando os códigos
dei a mesma recomendação para o chaves
Chilli — Ontem às 16:51
vlw pela ajuda Ari, eu realmente nao to entendendo bem a materia entao vou fazer isso
Ari — Ontem às 16:51
td bem, é realmente bem complicadinho e o jeito q o hiragi ensina n ajuda mto
Chilli — Ontem às 16:51
vc diz os teus arquivos ne? ou pegar os meus e colocar la?
Chilli — Ontem às 16:51
SIM
Ari — Ontem às 16:54
Os meus arquivos.
Vc copiando eles vc mantém o padrão do css e a estrutura dos dados. 
Uma única orientação para os formulários, tanto de criar, quanto para atualizar, preste bem atenção se o nome do input está escrito igual a forma que vc escrever no request.form[" "] nas funções "create" e "save_update", por que é assim que ele reconhece de onde puxar as informações do html para o flask
Chilli — Ontem às 16:54
Ok
Chilli — Ontem às 17:04
Ta certo agr?
from flask import Blueprint, render_template, request
from dao.uf_dao import UF, UFdao

bp_uf = Blueprint("uf", __name__)

Expandir
Mont CRUD.py
3 KB
Ari — Ontem às 17:09
isso
agr só fazer os htmls do msm jeito
Chilli — Ontem às 17:09
uhuuuul
blzz
Ari — 11:14
yo chilli, só conferindo aqui
cm ta indo os html?
Chilli — 11:14
Vou concluir agr de tardezinha
Ari — 11:15
blz
Chilli — 12:48
Yo ari
Ari — 12:49
diga
Chilli — 12:49
Eu pego o menu.html e faço as alterações? Não entendi direito
Ari — 12:49
só o os html q estão na pasta mont
Chilli — 12:49
perfeito
Ari — 12:50
https://github.com/arionlauriano/Projetos-UniCeub/tree/main/Prog_Orient_Obj/ProjFinal/templates/mont
GitHub
Projetos-UniCeub/Prog_Orient_Obj/ProjFinal/templates/mont at main ...
Repositório dedicado aos projetos realizados durante a jornada de aprendizado do curso de Ciência da Computação no UniCeub. - arionlauriano/Projetos-UniCeub
Repositório dedicado aos projetos realizados durante a jornada de aprendizado do curso de Ciência da Computação no UniCeub. - arionlauriano/Projetos-UniCeub
Chilli — 13:04
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
Expandir
Form Create.html
4 KB
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UFT-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
Expandir
Read.html
4 KB
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UFT-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
Expandir
UF Edit.html
5 KB
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UFT-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
Expandir
Update.html
4 KB
Ta em maos chefe
Ari — 13:18
ce editou o primeiro? p mim o form create ainda ta com as infos de montadora
Chilli — 13:29
Pera
Já vejo isso
Ari — 13:32
dboa
Chilli — 14:47
Agr ta certo
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
Expandir
Form Create.html
4 KB
Ari — 16:23
blz
﻿
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UFT-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualizar Montadora</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            justify-content: center;
            align-items: flex-start;
            margin: 0;
            background-color: rgb(188, 201, 212);
        }

        h1 {
            text-align: center;
            text-decoration: underline;
            color: rgb(9, 62, 108);
            font-weight: 800;
        }
        .outer {
            text-align: center;
            max-width: 1000px;
            width: 70%;
            margin: auto;
            padding: 20px;
            background-color: rgb(121, 142, 161);
            box-shadow: 0 0px 8px rgba(0, 0, 0, 0.345);
            border-radius: 10px;
        }

        .form {
            flex: 1 1 300px;
            padding: 20px;
            width: 80%;
            margin: auto;
            background-color: aliceblue;
            border-radius: 10px;
            transition: 0.5s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        form {
            width: 80%;
        }

        label {
            font-size: 20px;
            margin-bottom: 0px;
            color: rgb(32, 91, 142);
            font-weight: 600;
            width: 80%;
        }

        input {
            height: 25px;
            width: 55%;
            border-width: 3px;
            border-radius: 8px;
            border-color: rgb(32, 91, 142);
            border-style: solid;
            text-align: center;
        }

        input:focus {
            border-color: rgb(106, 132, 158);
            outline: none;
        }

        button {
            width: fit-content;
            font-size: 16px;
            font-weight: 600;
            color: rgb(0, 47, 88);
            background-color: rgb(141, 189, 231);
            border-radius: 5px;
            border: none;
            padding: 10px;
        }

        button:hover {
            box-shadow: 0 0 5px;
        }
        div.msg {
            width: 90%;
            padding: 10px;
            border: solid;
            border-color: rgb(213, 63, 63);
            border-radius: 5px;
            background-color: rgba(213, 63, 63, 0.222);
            color: rgb(68, 1, 1);
        }
        a.redirect {
            width: fit-content;
            font-size: 16px;
            font-weight: 600;
            color: rgba(0, 47, 88, 0.8);
            background-color: rgba(141, 189, 231, 0.580);
            border-radius: 5px;
            border: none;
            padding: 10px;
        }

        a.redirect:hover {
            box-shadow: 0 0 4px;
        }
    </style>
</head>
<body>
    <h1>Atualizar Montadora</h1>
    <div class="outer">
        <div class="form">
            <form action="/mont/mont_save_update" method="post">
                <label for="id">Identificador:</label><br>
                <input type="text" name="id_mont" id="id" value="{{mont.id_mont}}" readonly><br><br>
                <label for="sgl">Sigla da Montadora</label><br>
                <input type="text" name="sgl_mont" id="sgl" value="{{mont.sgl_mont}}" required><br><br>
                <label for="nome">Nome da Montadora</label><br>
                <input type="text" name="nome_mont" id="nome" value="{{mont.nome_mont}}" required><br><br>

                <button type="submit">Salvar Atualização</button>
            </form><br><br>
            <div class="msg" style="display: {{ display }};">{{ msg }}</div><br>
            <p><a href="/mont/mont_edit" class="redirect">Continuar Editando</a> ou <a href="/" class="redirect">Voltar ao  Menu</a></p>
        </div>
    </div>
</body>
</html>
